# Chapter1 Introduction

طراحی نرم‌افزار شیءگرا (Object-Oriented Software) دشوار است، و طراحی نرم‌افزار شیءگرا قابل استفاده مجدد (Reusable) حتی سخت‌تر است. شما باید اشیاء (Objects) مرتبط را پیدا کرده، آن‌ها را به کلاس‌ها (Classes) با دانه‌بندی مناسب تقسیم کرده، رابط‌های کلاس (Class Interfaces) و سلسله‌مراتب ارث‌بری (Inheritance Hierarchies) را تعریف کنید و روابط کلیدی میان آن‌ها را برقرار نمایید. طراحی شما باید خاص مسئله‌ای باشد که در دست دارید، اما همچنین باید به اندازه کافی عمومی باشد تا مسائل و نیازهای آینده را پوشش دهد. شما همچنین می‌خواهید از طراحی مجدد (Redesign) اجتناب کنید، یا حداقل آن را به حداقل برسانید. طراحان با تجربه نرم‌افزار شیءگرا به شما خواهند گفت که یک طراحی قابل استفاده مجدد و انعطاف‌پذیر به سختی و احتمالاً غیرممکن است که در بار اول درست انجام شود. پیش از اینکه طراحی نهایی شود، آن‌ها معمولاً سعی می‌کنند آن را چندین بار استفاده کرده و هر بار آن را اصلاح کنند.

با این حال، طراحان با تجربه نرم‌افزار شیءگرا طراحی‌های خوبی انجام می‌دهند. در عین حال، طراحان جدید تحت تأثیر گزینه‌های موجود قرار می‌گیرند و تمایل دارند به تکنیک‌های غیر شیءگرایانه‌ای که قبلاً استفاده کرده‌اند بازگردند. یادگیری اینکه طراحی شیءگرا خوب چگونه است، زمان زیادی می‌برد. به‌طور واضح، طراحان با تجربه چیزی می‌دانند که طراحان تازه‌کار نمی‌دانند. آن چیست؟

یک چیز که طراحان متخصص می‌دانند این است که باید از اصول ابتدایی برای حل همه مشکلات استفاده نکرد. در عوض، آن‌ها از راه‌حل‌هایی که قبلاً برای آن‌ها مؤثر بوده است، استفاده می‌کنند. وقتی یک راه‌حل خوب پیدا می‌کنند، آن را بارها و بارها استفاده می‌کنند. این تجربه یکی از دلایلی است که آن‌ها را به متخصص تبدیل می‌کند. بنابراین، شما الگوهای تکراری از کلاس‌ها و اشیاء ارتباطی را در بسیاری از سیستم‌های شیءگرا خواهید یافت. این الگوها (Patterns) مشکلات طراحی خاصی را حل می‌کنند و طراحی‌های شیءگرا را انعطاف‌پذیرتر، زیباتر و در نهایت قابل استفاده مجدد می‌سازند. آن‌ها به طراحان کمک می‌کنند تا طراحی‌های موفق را با استفاده از تجربه‌های قبلی خود بسازند.

یک طراح که با این الگوها آشنا است می‌تواند آن‌ها را بلافاصله به مشکلات طراحی اعمال کند بدون اینکه نیاز به کشف دوباره آن‌ها داشته باشد.

یک تشبیه می‌تواند کمک کند که این نکته روشن‌تر شود. نویسندگان و نمایشنامه‌نویسان به‌ندرت طرح داستان‌های خود را از ابتدا طراحی می‌کنند. در عوض، آن‌ها از الگوهایی مانند "قهرمان با نقص تراژیک" (Macbeth، Hamlet، و غیره) یا "رمان عاشقانه" (رمان‌های بی‌شمار عاشقانه) پیروی می‌کنند. به همین ترتیب، طراحان نرم‌افزار شیءگرا از الگوهایی مانند "نمایش حالت‌ها با اشیاء" و "تزئین اشیاء تا بتوانید ویژگی‌ها را به راحتی اضافه یا حذف کنید" پیروی می‌کنند. وقتی الگو را بدانید، بسیاری از تصمیمات طراحی به‌طور خودکار دنبال می‌شود.

ما همه می‌دانیم که تجربه طراحی ارزشمند است. چقدر پیش آمده که حس کرده‌اید که یک مشکل را قبلاً حل کرده‌اید اما دقیقاً نمی‌دانید کجا یا چگونه؟ اگر می‌توانستید جزئیات مشکل قبلی و چگونگی حل آن را به یاد آورید، می‌توانستید از این تجربه دوباره استفاده کنید به جای اینکه دوباره آن را کشف کنید. با این حال، ما در ثبت تجربیات در طراحی نرم‌افزار برای استفاده دیگران کار خوبی انجام نمی‌دهیم.

هدف این کتاب ثبت تجربیات در طراحی نرم‌افزار شیءگرا به‌عنوان الگوهای طراحی (Design Patterns) است. هر الگوی طراحی به‌طور سیستماتیک یک مشکل را نام‌گذاری، توضیح و ارزیابی می‌کند که در سیستم‌های شیءگرا به‌طور مکرر به آن پرداخته شده است. هدف ما این است که تجربه طراحی را به‌صورتی ثبت کنیم که افراد بتوانند به‌طور مؤثر از آن استفاده کنند. به همین منظور، برخی از مهم‌ترین الگوهای طراحی را مستند کرده‌ایم و آن‌ها را به‌صورت یک فهرست (Catalog) ارائه می‌دهیم.

الگوهای طراحی استفاده از طراحی‌ها و معماری‌های موفق را آسان‌تر می‌کنند. بیان تکنیک‌های اثبات‌شده به‌عنوان الگوهای طراحی، دسترسی به آن‌ها را برای توسعه‌دهندگان سیستم‌های جدید تسهیل می‌کند. الگوهای طراحی به شما کمک می‌کنند تا گزینه‌های طراحی را انتخاب کنید که سیستم شما را قابل استفاده مجدد می‌سازند و از انتخاب‌هایی که موجب کاهش قابلیت استفاده مجدد می‌شوند اجتناب کنید. الگوهای طراحی حتی می‌توانند مستندات و نگهداری سیستم‌های موجود را با ارائه یک مشخصات صریح از تعاملات کلاس‌ها و اشیاء و اهداف آن‌ها بهبود بخشند. به‌طور ساده، الگوهای طراحی به طراح کمک می‌کنند تا طراحی را سریع‌تر "درست" انجام دهد.

هیچ‌کدام از الگوهای طراحی در این کتاب طراحی‌های جدید یا اثبات‌نشده‌ای را توصیف نمی‌کند. ما تنها طراحی‌هایی را گنجانده‌ایم که بیش از یک بار در سیستم‌های مختلف به‌کار رفته‌اند. بیشتر این طراحی‌ها هرگز مستند نشده‌اند. آن‌ها یا بخشی از فولکلور (Folklore) جامعه شیءگرا هستند یا اجزای سیستم‌های شیءگرا موفقی هستند که یادگیری از آن‌ها برای طراحان تازه‌کار سخت است. بنابراین، اگرچه این طراحی‌ها جدید نیستند، ما آن‌ها را به‌صورتی جدید و قابل دسترس ثبت می‌کنیم: به‌عنوان یک فهرست از الگوهای طراحی با فرمت منظم.
