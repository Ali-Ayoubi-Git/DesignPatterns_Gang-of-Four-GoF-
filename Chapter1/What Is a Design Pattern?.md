# الگوی طراحی چیست؟ (What Is a Design Pattern?)
کریستوفر الکساندر می‌گوید: "هر الگو یک مشکلی را توصیف می‌کند که بارها و بارها در محیط ما اتفاق می‌افتد و سپس هسته راه‌حل آن مشکل را به‌گونه‌ای توصیف می‌کند که شما می‌توانید این راه‌حل را میلیون‌ها بار استفاده کنید، بدون اینکه هر بار به همان روش آن را انجام دهید." حتی اگر الکساندر در مورد الگوها در ساختمان‌ها و شهرها صحبت می‌کند، آنچه او می‌گوید در مورد الگوهای طراحی نرم‌افزار شیءگرا نیز صدق می‌کند. راه‌حل‌های ما به‌صورت اشیاء (Objects) و رابط‌ها (Interfaces) بیان می‌شوند به‌جای دیوارها و درها، اما در هسته هر دو نوع الگو، یک راه‌حل برای مشکلی در یک زمینه خاص وجود دارد.


در کل، یک الگو چهار عنصر اساسی دارد:

نام الگو (Pattern Name):
نام الگو ابزاری است که می‌توانیم از آن برای توصیف یک مشکل طراحی، راه‌حل‌ها و پیامدهای آن در یک یا دو کلمه استفاده کنیم. نام‌گذاری یک الگو بلافاصله دایره واژگان طراحی ما را افزایش می‌دهد و به ما اجازه می‌دهد که در سطح بالاتری از انتزاع طراحی کنیم. داشتن واژگانی برای الگوها به ما این امکان را می‌دهد که در مورد آنها با همکاران خود، در مستنداتمان و حتی با خودمان صحبت کنیم. این امر فکر کردن در مورد طراحی‌ها و ارتباط آنها و معایب و مزایای آنها را راحت‌تر می‌کند. یافتن نام‌های مناسب یکی از سخت‌ترین قسمت‌های توسعه کاتالوگ ما بوده است.

مشکل (Problem):
مشکل زمانی توضیح داده می‌شود که چه زمانی باید از الگو استفاده کنیم. این توضیح می‌دهد که مشکل و زمینه آن چیست. ممکن است به مشکلات خاص طراحی مانند چگونگی نمایش الگوریتم‌ها به عنوان اشیاء اشاره کند. ممکن است ساختارهای کلاس یا شیئی را توصیف کند که نشان‌دهنده طراحی انعطاف‌ناپذیر است. گاهی اوقات، مشکل شامل فهرستی از شرایطی است که باید قبل از استفاده از الگو برقرار شوند.

راه‌حل (Solution):
راه‌حل عناصر تشکیل‌دهنده طراحی، روابط، مسئولیت‌ها و همکاری‌های آنها را توضیح می‌دهد. راه‌حل یک طراحی خاص یا پیاده‌سازی مشخص را توصیف نمی‌کند زیرا یک الگو مانند یک الگو است که می‌تواند در موقعیت‌های مختلف اعمال شود. در عوض، الگو یک توصیف انتزاعی از یک مشکل طراحی و نحوه حل آن با ترتیب عمومی عناصر (کلاس‌ها و اشیاء در اینجا) ارائه می‌دهد.

پیامدها (Consequences):
پیامدها نتایج و معایب استفاده از الگو را توضیح می‌دهند. اگرچه پیامدها اغلب هنگام توصیف تصمیمات طراحی ذکر نمی‌شوند، اما آنها برای ارزیابی گزینه‌های طراحی و درک هزینه‌ها و منافع استفاده از الگو حیاتی هستند. پیامدها در نرم‌افزار معمولاً مربوط به معایب فضای حافظه و زمان اجرا هستند. همچنین ممکن است به مسائل مربوط به زبان و پیاده‌سازی بپردازد. از آنجایی که بازیابی اغلب یک عامل در طراحی شیءگرا است، پیامدهای یک الگو شامل تأثیر آن بر انعطاف‌پذیری، گسترش‌پذیری یا قابلیت حمل یک سیستم است. فهرست کردن این پیامدها به وضوح به شما کمک می‌کند تا آنها را درک و ارزیابی کنید.



دیدگاه‌ها و انتظارات از الگوها:
دیدگاه‌ها تأثیر زیادی بر تفسیر این که چه چیزی الگو است و چه چیزی نیست، دارند. یک الگوی طراحی برای یک شخص می‌تواند یک بلوک ساختمانی اولیه برای شخص دیگری باشد. در این کتاب ما بر الگوهایی تمرکز کرده‌ایم که در سطح خاصی از انتزاع قرار دارند. الگوهای طراحی در مورد طراحی‌هایی مانند لیست‌های پیوندی و جدول‌های هش که می‌توانند به صورت کلاس‌ها کدگذاری شوند و همانطور که هستند مجدداً استفاده شوند، نیستند. همچنین، آنها طراحی‌های پیچیده و خاص دامنه برای یک برنامه یا زیرسیستم کامل نیستند. الگوهای طراحی در این کتاب توصیف‌هایی از اشیاء و کلاس‌هایی هستند که برای حل یک مشکل طراحی عمومی در یک زمینه خاص سفارشی شده‌اند.

الگوی طراحی، نام می‌برد، انتزاع می‌کند و جنبه‌های کلیدی ساختار یک طراحی رایج را شناسایی می‌کند که آن را برای ایجاد طراحی شیءگرا قابل استفاده مجدد مفید می‌سازد. الگوهای طراحی کلاس‌ها و نمونه‌های مشارکت‌کننده، نقش‌ها و همکاری‌های آنها و توزیع مسئولیت‌ها را شناسایی می‌کنند. هر الگوی طراحی بر یک مشکل یا مسئله خاص در طراحی شیءگرا تمرکز دارد. این الگو زمانی که قابل اعمال است، آیا می‌توان آن را با توجه به دیگر محدودیت‌های طراحی اعمال کرد و پیامدها و معایب استفاده از آن را توضیح می‌دهد. از آنجا که در نهایت باید طراحی‌های خود را پیاده‌سازی کنیم، یک الگوی طراحی همچنین نمونه‌هایی از کد C++ و (گاهی اوقات) Smalltalk برای نشان دادن پیاده‌سازی فراهم می‌آورد.

اگرچه الگوهای طراحی توصیف‌های طراحی شیءگرا هستند، اما بر راه‌حل‌های عملی که در زبان‌های برنامه‌نویسی شیءگرا مانند Smalltalk و C++ پیاده‌سازی شده‌اند، مبتنی هستند، نه زبان‌های رویه‌ای (Pascal، C، Ada) یا زبان‌های شیءگرا و دینامیک‌تر (CLOS، Dylan، Self). ما Smalltalk و C++ را به دلایل عملی انتخاب کردیم: تجربه روزانه ما در این زبان‌ها بوده و آنها به طور فزاینده‌ای محبوب هستند.

انتخاب زبان برنامه‌نویسی مهم است زیرا تأثیر زیادی بر دیدگاه فرد دارد. الگوهای ما ویژگی‌های زبان Smalltalk/C++ را فرض می‌کنند و این انتخاب تعیین می‌کند که چه چیزی می‌تواند به راحتی پیاده‌سازی شود و چه چیزی نمی‌تواند. اگر زبان‌های رویه‌ای را فرض می‌کردیم، ممکن بود الگوهای طراحی‌ای مانند "وراثت"، "انسداد" و "پلی‌مورفیسم" را شامل می‌شدیم. به همین ترتیب، برخی از الگوهای ما به طور مستقیم توسط زبان‌های شیءگرای کمتر رایج پشتیبانی می‌شوند. به عنوان مثال، CLOS دارای چندین متد است که نیاز به الگویی مانند "Visitor" را کاهش می‌دهد (صفحه 331). در واقع، تفاوت‌های کافی بین Smalltalk و C++ وجود دارد که برخی از الگوها در یکی از زبان‌ها راحت‌تر از دیگری قابل بیان هستند (برای مثال، نگاه کنید به Iterator (257)).

